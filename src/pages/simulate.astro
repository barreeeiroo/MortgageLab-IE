---
import Layout from "@/layouts/Layout.astro";
import { SimulateHeaderIsland } from "@/components/simulate/header/SimulateHeaderIsland";
import { SimulateEmptyState } from "@/components/simulate/header/SimulateEmptyState";
import { SimulateStartDateIsland } from "@/components/simulate/sidebar/SimulateStartDateIsland";
import { SimulateMilestonesIsland } from "@/components/simulate/sidebar/SimulateMilestonesIsland";
import { SimulateRatesIsland } from "@/components/simulate/sidebar/SimulateRatesIsland";
import { SimulateOverpaymentsIsland } from "@/components/simulate/sidebar/SimulateOverpaymentsIsland";
import { SimulateSelfBuildIsland } from "@/components/simulate/sidebar/SimulateSelfBuildIsland";
import { SimulateChartIsland } from "@/components/simulate/chart/SimulateChartIsland";
import { SimulateTableIsland } from "@/components/simulate/table/SimulateTableIsland";
---

<Layout
	title="Simulate"
	description="Simulate your mortgage with different rates, overpayments, and scenarios. See how rate changes and extra payments affect your total interest and term."
>
	<div class="container mx-auto px-4 py-8">
		<!-- Header -->
		<SimulateHeaderIsland client:load />

		<!-- Empty state (manages its own margin, renders nothing when has data) -->
		<SimulateEmptyState client:load />

		<!-- Main content with sidebar -->
		<div class="mt-6 grid grid-cols-1 lg:grid-cols-[1fr_320px] gap-6">
			<!-- Main content area -->
			<div class="flex flex-col gap-6 min-w-0">
				<SimulateChartIsland client:idle />
				<SimulateTableIsland client:idle />
			</div>

			<!-- Right sidebar -->
			<aside class="flex flex-col gap-4">
				<SimulateStartDateIsland client:load />
				<SimulateRatesIsland client:load />
				<SimulateOverpaymentsIsland client:load />
				<SimulateSelfBuildIsland client:load />
				<SimulateMilestonesIsland client:load />
			</aside>
		</div>
	</div>
</Layout>
